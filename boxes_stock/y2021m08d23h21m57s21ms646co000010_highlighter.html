<div>w3CodeColor(document.getElementById("boxDiv"));</div><div><br></div><div>function w3CodeColor(elmnt, mode) {</div><div>&nbsp; var lang = (mode || "html");</div><div>&nbsp; var elmntObj = (document.getElementById(elmnt) || elmnt);</div><div>&nbsp; var elmntTxt = elmntObj.innerHTML;</div><div>&nbsp; var tagcolor = "mediumblue";</div><div>&nbsp; var tagnamecolor = "brown";</div><div>&nbsp; var attributecolor = "red";</div><div>&nbsp; var attributevaluecolor = "mediumblue";</div><div>&nbsp; var commentcolor = "green";</div><div>&nbsp; var cssselectorcolor = "brown";</div><div>&nbsp; var csspropertycolor = "red";</div><div>&nbsp; var csspropertyvaluecolor = "mediumblue";</div><div>&nbsp; var cssdelimitercolor = "black";</div><div>&nbsp; var cssimportantcolor = "red"; &nbsp;</div><div>&nbsp; var jscolor = "black";</div><div>&nbsp; var jskeywordcolor = "mediumblue";</div><div>&nbsp; var jsstringcolor = "brown";</div><div>&nbsp; var jsnumbercolor = "red";</div><div>&nbsp; var jspropertycolor = "black";</div><div>&nbsp; elmntObj.style.fontFamily = "Consolas,'Courier New', monospace";</div><div>&nbsp; if (!lang) {lang = "html"; }</div><div>&nbsp; if (lang == "html") {elmntTxt = htmlMode(elmntTxt);}</div><div>&nbsp; if (lang == "css") {elmntTxt = cssMode(elmntTxt);}</div><div>&nbsp; if (lang == "js") {elmntTxt = jsMode(elmntTxt);}</div><div>&nbsp; elmntObj.innerHTML = elmntTxt;</div><div><br></div><div>&nbsp; function extract(str, start, end, func, repl) {</div><div>&nbsp; &nbsp; var s, e, d = "", a = [];</div><div>&nbsp; &nbsp; while (str.search(start) &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; s = str.search(start);</div><div>&nbsp; &nbsp; &nbsp; e = str.indexOf(end, s);</div><div>&nbsp; &nbsp; &nbsp; if (e == -1) {e = str.length;}</div><div>&nbsp; &nbsp; &nbsp; if (repl) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; a.push(func(str.substring(s, e + (end.length)))); &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; str = str.substring(0, s) + repl + str.substr(e + (end.length));</div><div>&nbsp; &nbsp; &nbsp; } else {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; d += str.substring(0, s);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; d += func(str.substring(s, e + (end.length)));</div><div>&nbsp; &nbsp; &nbsp; &nbsp; str = str.substr(e + (end.length));</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; this.rest = d + str;</div><div>&nbsp; &nbsp; this.arr = a;</div><div>&nbsp; }</div><div>&nbsp; function htmlMode(txt) {</div><div>&nbsp; &nbsp; var rest = txt, done = "", php, comment, angular, startpos, endpos, note, i;</div><div>&nbsp; &nbsp; comment = new extract(rest, "&amp;lt;!--", "--&amp;gt;", commentMode, "W3HTMLCOMMENTPOS");</div><div>&nbsp; &nbsp; rest = comment.rest;</div><div>&nbsp; &nbsp; while (rest.indexOf("&amp;lt;") &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; note = "";</div><div>&nbsp; &nbsp; &nbsp; startpos = rest.indexOf("&amp;lt;");</div><div>&nbsp; &nbsp; &nbsp; if (rest.substr(startpos, 9).toUpperCase() == "&amp;LT;STYLE") {note = "css";}</div><div>&nbsp; &nbsp; &nbsp; if (rest.substr(startpos, 10).toUpperCase() == "&amp;LT;SCRIPT") {note = "javascript";} &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; endpos = rest.indexOf("&amp;gt;", startpos);</div><div>&nbsp; &nbsp; &nbsp; if (endpos == -1) {endpos = rest.length;}</div><div>&nbsp; &nbsp; &nbsp; done += rest.substring(0, startpos);</div><div>&nbsp; &nbsp; &nbsp; done += tagMode(rest.substring(startpos, endpos + 4));</div><div>&nbsp; &nbsp; &nbsp; rest = rest.substr(endpos + 4);</div><div>&nbsp; &nbsp; &nbsp; if (note == "css") {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; endpos = rest.indexOf("&amp;lt;/style&amp;gt;");</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (endpos &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; done += cssMode(rest.substring(0, endpos));</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rest = rest.substr(endpos);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; if (note == "javascript") {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; endpos = rest.indexOf("&amp;lt;/script&amp;gt;");</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (endpos &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; done += jsMode(rest.substring(0, endpos));</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rest = rest.substr(endpos);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; rest = done + rest;</div><div>&nbsp; &nbsp; for (i = 0; i &lt; comment.arr.length; i++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; rest = rest.replace("W3HTMLCOMMENTPOS", comment.arr[i]);</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return rest;</div><div>&nbsp; }</div><div>&nbsp; function tagMode(txt) {</div><div>&nbsp; &nbsp; var rest = txt, done = "", startpos, endpos, result;</div><div>&nbsp; &nbsp; while (rest.search(/(\s|&lt;br&gt;)/) &gt; -1) { &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; startpos = rest.search(/(\s|&lt;br&gt;)/);</div><div>&nbsp; &nbsp; &nbsp; endpos = rest.indexOf("&amp;gt;");</div><div>&nbsp; &nbsp; &nbsp; if (endpos == -1) {endpos = rest.length;}</div><div>&nbsp; &nbsp; &nbsp; done += rest.substring(0, startpos);</div><div>&nbsp; &nbsp; &nbsp; done += attributeMode(rest.substring(startpos, endpos));</div><div>&nbsp; &nbsp; &nbsp; rest = rest.substr(endpos);</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; result = done + rest;</div><div>&nbsp; &nbsp; result = "&lt;span style=color:" + tagcolor + "&gt;&amp;lt;&lt;/span&gt;" + result.substring(4);</div><div>&nbsp; &nbsp; if (result.substr(result.length - 4, 4) == "&amp;gt;") {</div><div>&nbsp; &nbsp; &nbsp; result = result.substring(0, result.length - 4) + "&lt;span style=color:" + tagcolor + "&gt;&amp;gt;&lt;/span&gt;";</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + tagnamecolor + "&gt;" + result + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function attributeMode(txt) {</div><div>&nbsp; &nbsp; var rest = txt, done = "", startpos, endpos, singlefnuttpos, doublefnuttpos, spacepos;</div><div>&nbsp; &nbsp; while (rest.indexOf("=") &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; endpos = -1;</div><div>&nbsp; &nbsp; &nbsp; startpos = rest.indexOf("=");</div><div>&nbsp; &nbsp; &nbsp; singlefnuttpos = rest.indexOf("'", startpos);</div><div>&nbsp; &nbsp; &nbsp; doublefnuttpos = rest.indexOf('"', startpos);</div><div>&nbsp; &nbsp; &nbsp; spacepos = rest.indexOf(" ", startpos + 2);</div><div>&nbsp; &nbsp; &nbsp; if (spacepos &gt; -1 &amp;&amp; (spacepos &lt; singlefnuttpos || singlefnuttpos == -1) &amp;&amp; (spacepos &lt; doublefnuttpos || doublefnuttpos == -1)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; endpos = rest.indexOf(" ", startpos); &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; } else if (doublefnuttpos &gt; -1 &amp;&amp; (doublefnuttpos &lt; singlefnuttpos || singlefnuttpos == -1) &amp;&amp; (doublefnuttpos &lt; spacepos || spacepos == -1)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; endpos = rest.indexOf('"', rest.indexOf('"', startpos) + 1);</div><div>&nbsp; &nbsp; &nbsp; } else if (singlefnuttpos &gt; -1 &amp;&amp; (singlefnuttpos &lt; doublefnuttpos || doublefnuttpos == -1) &amp;&amp; (singlefnuttpos &lt; spacepos || spacepos == -1)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; endpos = rest.indexOf("'", rest.indexOf("'", startpos) + 1);</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; if (!endpos || endpos == -1 || endpos &lt; startpos) {endpos = rest.length;}</div><div>&nbsp; &nbsp; &nbsp; done += rest.substring(0, startpos);</div><div>&nbsp; &nbsp; &nbsp; done += attributeValueMode(rest.substring(startpos, endpos + 1));</div><div>&nbsp; &nbsp; &nbsp; rest = rest.substr(endpos + 1);</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + attributecolor + "&gt;" + done + rest + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function attributeValueMode(txt) {</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + attributevaluecolor + "&gt;" + txt + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function commentMode(txt) {</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + commentcolor + "&gt;" + txt + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function cssMode(txt) {</div><div>&nbsp; &nbsp; var rest = txt, done = "", s, e, comment, i, midz, c, cc;</div><div>&nbsp; &nbsp; comment = new extract(rest, /\/\*/, "*/", commentMode, "W3CSSCOMMENTPOS");</div><div>&nbsp; &nbsp; rest = comment.rest;</div><div>&nbsp; &nbsp; while (rest.search("{") &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; s = rest.search("{");</div><div>&nbsp; &nbsp; &nbsp; midz = rest.substr(s + 1);</div><div>&nbsp; &nbsp; &nbsp; cc = 1;</div><div>&nbsp; &nbsp; &nbsp; c = 0;</div><div>&nbsp; &nbsp; &nbsp; for (i = 0; i &lt; midz.length; i++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (midz.substr(i, 1) == "{") {cc++; c++}</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (midz.substr(i, 1) == "}") {cc--;}</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (cc == 0) {break;}</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; if (cc != 0) {c = 0;}</div><div>&nbsp; &nbsp; &nbsp; e = s;</div><div>&nbsp; &nbsp; &nbsp; for (i = 0; i &lt;= c; i++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; e = rest.indexOf("}", e + 1);</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; if (e == -1) {e = rest.length;}</div><div>&nbsp; &nbsp; &nbsp; done += rest.substring(0, s + 1);</div><div>&nbsp; &nbsp; &nbsp; done += cssPropertyMode(rest.substring(s + 1, e));</div><div>&nbsp; &nbsp; &nbsp; rest = rest.substr(e);</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; rest = done + rest;</div><div>&nbsp; &nbsp; rest = rest.replace(/{/g, "&lt;span style=color:" + cssdelimitercolor + "&gt;{&lt;/span&gt;");</div><div>&nbsp; &nbsp; rest = rest.replace(/}/g, "&lt;span style=color:" + cssdelimitercolor + "&gt;}&lt;/span&gt;");</div><div>&nbsp; &nbsp; for (i = 0; i &lt; comment.arr.length; i++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; rest = rest.replace("W3CSSCOMMENTPOS", comment.arr[i]);</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + cssselectorcolor + "&gt;" + rest + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function cssPropertyMode(txt) {</div><div>&nbsp; &nbsp; var rest = txt, done = "", s, e, n, loop;</div><div>&nbsp; &nbsp; if (rest.indexOf("{") &gt; -1 ) { return cssMode(rest); }</div><div>&nbsp; &nbsp; while (rest.search(":") &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; s = rest.search(":");</div><div>&nbsp; &nbsp; &nbsp; loop = true;</div><div>&nbsp; &nbsp; &nbsp; n = s;</div><div>&nbsp; &nbsp; &nbsp; while (loop == true) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; loop = false;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; e = rest.indexOf(";", n);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (rest.substring(e - 5, e + 1) == "&amp;nbsp;") {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; loop = true;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; n = e + 1;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; if (e == -1) {e = rest.length;}</div><div>&nbsp; &nbsp; &nbsp; done += rest.substring(0, s);</div><div>&nbsp; &nbsp; &nbsp; done += cssPropertyValueMode(rest.substring(s, e + 1));</div><div>&nbsp; &nbsp; &nbsp; rest = rest.substr(e + 1);</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + csspropertycolor + "&gt;" + done + rest + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function cssPropertyValueMode(txt) {</div><div>&nbsp; &nbsp; var rest = txt, done = "", s;</div><div>&nbsp; &nbsp; rest = "&lt;span style=color:" + cssdelimitercolor + "&gt;:&lt;/span&gt;" + rest.substring(1);</div><div>&nbsp; &nbsp; while (rest.search(/!important/i) &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; s = rest.search(/!important/i);</div><div>&nbsp; &nbsp; &nbsp; done += rest.substring(0, s);</div><div>&nbsp; &nbsp; &nbsp; done += cssImportantMode(rest.substring(s, s + 10));</div><div>&nbsp; &nbsp; &nbsp; rest = rest.substr(s + 10);</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; result = done + rest; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; if (result.substr(result.length - 1, 1) == ";" &amp;&amp; result.substr(result.length - 6, 6) != "&amp;nbsp;" &amp;&amp; result.substr(result.length - 4, 4) != "&amp;lt;" &amp;&amp; result.substr(result.length - 4, 4) != "&amp;gt;" &amp;&amp; result.substr(result.length - 5, 5) != "&amp;amp;") {</div><div>&nbsp; &nbsp; &nbsp; result = result.substring(0, result.length - 1) + "&lt;span style=color:" + cssdelimitercolor + "&gt;;&lt;/span&gt;";</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + csspropertyvaluecolor + "&gt;" + result + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function cssImportantMode(txt) {</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + cssimportantcolor + ";font-weight:bold;&gt;" + txt + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function jsMode(txt) {</div><div>&nbsp; &nbsp; var rest = txt, done = "", esc = [], i, cc, tt = "", sfnuttpos, dfnuttpos, compos, comlinepos, keywordpos, numpos, mypos, dotpos, y;</div><div>&nbsp; &nbsp; for (i = 0; i &lt; rest.length; i++) &nbsp;{</div><div>&nbsp; &nbsp; &nbsp; cc = rest.substr(i, 1);</div><div>&nbsp; &nbsp; &nbsp; if (cc == "\\") {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; esc.push(rest.substr(i, 2));</div><div>&nbsp; &nbsp; &nbsp; &nbsp; cc = "W3JSESCAPE";</div><div>&nbsp; &nbsp; &nbsp; &nbsp; i++;</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; tt += cc;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; rest = tt;</div><div>&nbsp; &nbsp; y = 1;</div><div>&nbsp; &nbsp; while (y == 1) {</div><div>&nbsp; &nbsp; &nbsp; sfnuttpos = getPos(rest, "'", "'", jsStringMode);</div><div>&nbsp; &nbsp; &nbsp; dfnuttpos = getPos(rest, '"', '"', jsStringMode);</div><div>&nbsp; &nbsp; &nbsp; compos = getPos(rest, /\/\*/, "*/", commentMode);</div><div>&nbsp; &nbsp; &nbsp; comlinepos = getPos(rest, /\/\//, "&lt;br&gt;", commentMode); &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; numpos = getNumPos(rest, jsNumberMode);</div><div>&nbsp; &nbsp; &nbsp; keywordpos = getKeywordPos("js", rest, jsKeywordMode);</div><div>&nbsp; &nbsp; &nbsp; dotpos = getDotPos(rest, jsPropertyMode);</div><div>&nbsp; &nbsp; &nbsp; if (Math.max(numpos[0], sfnuttpos[0], dfnuttpos[0], compos[0], comlinepos[0], keywordpos[0], dotpos[0]) == -1) {break;}</div><div>&nbsp; &nbsp; &nbsp; mypos = getMinPos(numpos, sfnuttpos, dfnuttpos, compos, comlinepos, keywordpos, dotpos);</div><div>&nbsp; &nbsp; &nbsp; if (mypos[0] == -1) {break;}</div><div>&nbsp; &nbsp; &nbsp; if (mypos[0] &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; done += rest.substring(0, mypos[0]);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; done += mypos[2](rest.substring(mypos[0], mypos[1]));</div><div>&nbsp; &nbsp; &nbsp; &nbsp; rest = rest.substr(mypos[1]);</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; rest = done + rest;</div><div>&nbsp; &nbsp; for (i = 0; i &lt; esc.length; i++) {</div><div>&nbsp; &nbsp; &nbsp; rest = rest.replace("W3JSESCAPE", esc[i]);</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + jscolor + "&gt;" + rest + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function jsStringMode(txt) {</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + jsstringcolor + "&gt;" + txt + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function jsKeywordMode(txt) {</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + jskeywordcolor + "&gt;" + txt + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function jsNumberMode(txt) {</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + jsnumbercolor + "&gt;" + txt + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function jsPropertyMode(txt) {</div><div>&nbsp; &nbsp; return "&lt;span style=color:" + jspropertycolor + "&gt;" + txt + "&lt;/span&gt;";</div><div>&nbsp; }</div><div>&nbsp; function getDotPos(txt, func) {</div><div>&nbsp; &nbsp; var x, i, j, s, e, arr = [".","&lt;", " ", ";", "(", "+", ")", "[", "]", ",", "&amp;", ":", "{", "}", "/" ,"-", "*", "|", "%"];</div><div>&nbsp; &nbsp; s = txt.indexOf(".");</div><div>&nbsp; &nbsp; if (s &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; x = txt.substr(s + 1);</div><div>&nbsp; &nbsp; &nbsp; for (j = 0; j &lt; x.length; j++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; cc = x[j];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for (i = 0; i &lt; arr.length; i++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (cc.indexOf(arr[i]) &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e = j;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return [s + 1, e + s + 1, func];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return [-1, -1, func];</div><div>&nbsp; }</div><div>&nbsp; function getMinPos() {</div><div>&nbsp; &nbsp; var i, arr = [];</div><div>&nbsp; &nbsp; for (i = 0; i &lt; arguments.length; i++) {</div><div>&nbsp; &nbsp; &nbsp; if (arguments[i][0] &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (arr.length == 0 || arguments[i][0] &lt; arr[0]) {arr = arguments[i];}</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; if (arr.length == 0) {arr = arguments[i];}</div><div>&nbsp; &nbsp; return arr;</div><div>&nbsp; }</div><div>&nbsp; function getKeywordPos(typ, txt, func) {</div><div>&nbsp; &nbsp; var words, i, pos, rpos = -1, rpos2 = -1, patt;</div><div>&nbsp; &nbsp; if (typ == "js") {</div><div>&nbsp; &nbsp; &nbsp; words = ["abstract","arguments","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete",</div><div>&nbsp; &nbsp; &nbsp; "do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import",</div><div>&nbsp; &nbsp; &nbsp; "in","instanceof","int","interface","let","long","NaN","native","new","null","package","private","protected","public","return","short","static",</div><div>&nbsp; &nbsp; &nbsp; "super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield"];</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; for (i = 0; i &lt; words.length; i++) {</div><div>&nbsp; &nbsp; &nbsp; pos = txt.indexOf(words[i]);</div><div>&nbsp; &nbsp; &nbsp; if (pos &gt; -1) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; patt = /\W/g;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (txt.substr(pos + words[i].length,1).match(patt) &amp;&amp; txt.substr(pos - 1,1).match(patt)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (pos &gt; -1 &amp;&amp; (rpos == -1 || pos &lt; rpos)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rpos = pos;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rpos2 = rpos + words[i].length;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; }&nbsp;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; return [rpos, rpos2, func];</div><div>&nbsp; }</div><div>&nbsp; function getPos(txt, start, end, func) {</div><div>&nbsp; &nbsp; var s, e;</div><div>&nbsp; &nbsp; s = txt.search(start);</div><div>&nbsp; &nbsp; e = txt.indexOf(end, s + (end.length));</div><div>&nbsp; &nbsp; if (e == -1) {e = txt.length;}</div><div>&nbsp; &nbsp; return [s, e + (end.length), func];</div><div>&nbsp; }</div><div>&nbsp; function getNumPos(txt, func) {</div><div>&nbsp; &nbsp; var arr = ["&lt;br&gt;", " ", ";", "(", "+", ")", "[", "]", ",", "&amp;", ":", "{", "}", "/" ,"-", "*", "|", "%", "="], i, j, c, startpos = 0, endpos, word;</div><div>&nbsp; &nbsp; for (i = 0; i &lt; txt.length; i++) {</div><div>&nbsp; &nbsp; &nbsp; for (j = 0; j &lt; arr.length; j++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; c = txt.substr(i, arr[j].length);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (c == arr[j]) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (c == "-" &amp;&amp; (txt.substr(i - 1, 1) == "e" || txt.substr(i - 1, 1) == "E")) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; endpos = i;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (startpos &lt; endpos) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; word = txt.substring(startpos, endpos);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!isNaN(word)) {return [startpos, endpos, func];}</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i += arr[j].length;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startpos = i;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i -= 1;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; } &nbsp;</div><div>&nbsp; &nbsp; return [-1, -1, func];</div><div>&nbsp; } &nbsp;</div><div>}</div><div><br></div>